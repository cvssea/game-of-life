!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){},function(e,t,n){"use strict";function i(){this.classList.toggle("live")}n.r(t);var r=class{constructor(e,t){this.width=e,this.height=t,this.board=document.getElementById("board"),this.cells=[]}setWidth(e){this.width=e}createBoard(e=10,t=10){this.board.style.width=`${this.width*e}px`,this.board.style.height=`${this.height*t}px`;const n=this.width*this.height;for(let e=0;e<n;e++){const e=document.createElement("div");this.board.appendChild(e),this.cells.push(e)}this.cells.forEach(e=>{e.addEventListener("click",i)})}getCellByCoord(e,t){return this.cells[e+t*this.width]}setCellState(e,t,n){const i=this.getCellByCoord(e,t);return"live"===n?i.classList.add("live"):i.classList.remove("live"),i}generatePattern(e){this.createBoard(),e.forEach(e=>{const{x:t,y:n}=this.getCellCoord(e);this.setCellState(t,n,"live")})}generateMobilePulsar(e,t){this.createBoard(20,20),e.forEach(e=>{const{x:t,y:n}=this.getCellCoord(e);this.setCellState(t,n,"live")}),this.cells.forEach(e=>e.removeEventListener("click",i))}getCellNeighbours(e,t){return[{nx:e-1,ny:t-1},{nx:e,ny:t-1},{nx:e+1,ny:t-1},{nx:e-1,ny:t},{nx:e+1,ny:t},{nx:e-1,ny:t+1},{nx:e,ny:t+1},{nx:e+1,ny:t+1}].map(e=>this.getCellByCoord(e.nx,e.ny)).filter(e=>void 0!==e)}computeCellNextState(e,t){const n=this.getCellByCoord(e,t).classList.contains("live"),i=this.getCellNeighbours(e,t).filter(e=>e.classList.contains("live")).length;return n&&(i<2||i>3)?0:(!n||2!==i&&3!==i)&&(n||3!==i)?0:1}getCellCoord(e){let t=e%this.width;return{x:t,y:(-t+e)/this.width}}computeNextGeneration(){return this.cells.map((e,t)=>{const{x:n,y:i}=this.getCellCoord(t);return this.computeCellNextState(n,i)})}printNextGeneration(){const e=this.computeNextGeneration().map((e,t)=>{const{x:n,y:i}=this.getCellCoord(t);return e?this.setCellState(n,i,"live"):this.setCellState(n,i,"")});this.cells=e}init(){this.createBoard()}reset(){const e=this.cells.map((e,t)=>{const{x:n,y:i}=this.getCellCoord(t);return this.setCellState(n,i,"")});this.cells=e}};var l={pulsar:[2110,2111,2112,2116,2117,2118,2288,2378,2468,2828,2918,3008,3190,3191,3192,3196,3197,3198,3020,2930,2840,2480,2390,2300,2293,2473,2383,2833,2923,3013,2295,2385,2475,2835,2475,2835,2925,3015,2560,2561,2562,2566,2567,2568,2740,2741,2742,2746,2747,2748],mobilePulsar:[166,167,168,172,173,174,206,207,208,212,213,214,66,67,68,72,73,74,104,124,144,224,244,264,116,136,156,236,256,276,314,313,312,308,307,306,109,129,149,229,249,269,111,131,151,231,251,271],gosperGliderGun:[2637,2638,2728,2727,2647,2737,2827,2558,2918,2469,2470,3009,3010,2741,2743,2744,2653,2833,2562,2922,2749,2658,2568,2478,2389,2477,2567,2657,2391,2301,2751,2841,2491,2492,2581,2582],infinite:[2635,2636,2637,2638,2639,2640,2641,2642,2644,2645,2646,2647,2648,2652,2653,2654,2661,2662,2663,2664,2665,2666,2667,2669,2670,2671,2672,2673]};function o(e){const t=document.getElementById("board"),n=t.parentElement;var i,r;e&&(i="pattern",r=e,t.dataset[i]=r),t.children.length&&(t.remove(),n.appendChild(function(e){const t=document.createElement("section");return t.id="board",t}()))}n(0);const s=document.getElementById("pulsar"),d=document.getElementById("gun"),a=document.getElementById("infinite"),c=document.getElementById("play"),u=document.getElementById("pause"),h=document.getElementById("reset");let m,g,y;function p(){const e=this.dataset.pattern;o(e),window.innerWidth<768?((m=new r(20,20)).generateMobilePulsar(l.mobilePulsar,g),s.style.display="none"):((m=new r(90,60)).generatePattern(l[e]),g&&clearInterval(g),c.disabled=!1)}s.addEventListener("touchend",p),window.innerWidth<768&&document.getElementById("board").addEventListener("touchend",()=>{m&&(g?(clearInterval(g),g=null):g=setInterval(()=>m.printNextGeneration(),100))}),[s,d,a].forEach(e=>{e.addEventListener("click",p)}),c.addEventListener("click",()=>{u.disabled=!1,h.disabled=!1,g=setInterval(()=>m.printNextGeneration(),100),h.addEventListener("click",()=>{clearInterval(g),m&&m.reset(),c.disabled=!1}),u.addEventListener("click",()=>{clearInterval(g),c.disabled=!1}),c.disabled=!0}),document.querySelector("form").addEventListener("submit",e=>{e.preventDefault(),g&&clearInterval(g);const t=document.getElementById("boardWidth"),n=document.getElementById("boardHeight");o(),(m=new r(parseInt(t.value),parseInt(n.value)))&&m.init(),t.value="",n.value="",c.disabled=!1}),document.getElementById("toggle").addEventListener("click",()=>{document.getElementById("instructions").classList.toggle("hidden")});const v=document.getElementById("boardWidth"),f=window.matchMedia("(min-width: 768px) and (max-width: 1015px)");function b(){const e=parseInt(document.querySelector(".container").clientWidth);(y=(e-e%100)/10)<=90?(v.placeholder=`width (10 - ${y})`,v.max=y):(v.placeholder="width (10 - 90)",v.max=90,y=90),m&&y<90&&(m=null,o())}window.addEventListener("load",()=>{b(),f.addListener(e=>{e.matches&&b()}),window.addEventListener("resize",()=>{window.innerWidth>768&&(m&&(m.reset(),g&&clearInterval(g)),o(),b())})})}]);
//# sourceMappingURL=bundle.c7fd.min.js.map